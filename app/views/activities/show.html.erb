<div class="arrow">
  <%= link_to :back, class: "arrow_image" do %>
  <%= image_tag "arrow2.png" %>
  <% end %>
</div>

<div class="title">
  <h2>Activity</h2>
</div>

<div class="description">
  <p>Please do the following: <%= @activity.description %> </p>
</div>

<div class="container-icon">

<div class="container-pop">
<div class="popup" id="popup">
<br>
    <h2>Are you feeling better?</h2>
    <button class=btn id="yes" onclick="closePopup(true)">Yes</button>
    <button class=btn id="no" onclick="closePopup(true)">No</button>
</div>
<div class="popup" id="newPopup" style="display :none;">
            <h2>Thank You, <%= current_student.name %> </h2>
            <button class="btn" id="close" href="students/moods" onclick="closeNewPopup()">Close</button>
        </div>
</div>
<div class="container-count">

<!-- Happy -->

  <% if @activity.description == "Hug your best friend!" %>
  <div class="activity">
      <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
              src="https://cdn.lordicon.com/zxlywduw.json"
              trigger="loop"
              delay= "1000"
              style="width:50vw;height:50vh">
  </div>

  <% elsif @activity.description == "Check in with your best friend!" %>
  <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
     <lord-icon
              src="https://cdn.lordicon.com/kiynvdns.json"
              trigger="loop"
              delay="1000"
              style="width:50vw;height:50vh">
  </div>

  <% elsif @activity.description == "Dance with your teacher/friend!" %>
    <div class="activity">
      <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
             src="https://cdn.lordicon.com/lnmgxmyk.json"
             trigger="loop"
             delay="500"
            style="width:50vw;height:50vh">
    </div>

  <% elsif @activity.description == "Draw happiness on a piece of paper!" %>
    <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
              src="https://cdn.lordicon.com/bksjdgoo.json"
              trigger="loop"

             style="width:50vw;height:50vh">
  </div>
 <% elsif @activity.description == "Ask a friend if they are okay" %>
   <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
     <lord-icon
        src="https://cdn.lordicon.com/kiynvdns.json"
        trigger="loop"
        delay="1000"
        style="width:50vw;height:50vh">
  </div>
<!-- Angry -->

  <% elsif @activity.description == "Talk to a friend you like" %>
    <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
     <lord-icon
        src="https://cdn.lordicon.com/kiynvdns.json"
        trigger="loop"
        delay="1000"
              style="width:50vw;height:50vh">
          </div>

  <% elsif @activity.description == "Draw a picture of your anger" %>
    <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
              src="https://cdn.lordicon.com/bksjdgoo.json"
              trigger="loop"

              style="width:50vw;height:50vh">
                </div>

  <% elsif @activity.description == "Run outside the classrom five times" %>
    <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/vkycdaci.json"
            trigger="loop"

              style="width:50vw;height:50vh">
             </div>

  <% elsif @activity.description == "Draw on a piece of paper!" %>
    <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/vhyuhmbl.json"
            trigger="loop"

              style="width:50vw;height:50vh">
              </div>

  <% elsif @activity.description == "Take 10 long breathes" %>
    <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/xvhlktlr.json"
            trigger="loop"
            delay="1000"
              style="width:50vw;height:50vh">
              </div>

  <!-- Neutral -->

  <% elsif @activity.description == "Hug a teddy bear!" %>
     <div class="activity">
      <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
              src="https://cdn.lordicon.com/zxlywduw.json"
              trigger="loop"
              delay= "1000"
              style="width:50vw;height:50vh">
                </div>

  <% elsif @activity.description == "Speed walk outside the classroom!" %>
     <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/vkycdaci.json"
            trigger="loop"

              style="width:50vw;height:50vh">
              </div>

  <% elsif @activity.description == "Jog around the block!" %>
     <div class="activity">
      <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/vkycdaci.json"
            trigger="loop"

              style="width:50vw;height:50vh">
              </div>

  <% elsif @activity.description == "Draw on a piece of paper!" %>
     <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/vhyuhmbl.json"
            trigger="loop"

              style="width:50vw;height:50vh">
              </div>

  <% elsif @activity.description == "Write on a piece of paper!" %>
     <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/vhyuhmbl.json"
            trigger="loop"

              style="width:50vw;height:50vh">
              </div>

  <!-- Sad -->

  <% elsif @activity.description == "Hug a teddy bear!" %>
   <div class="activity">
      <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
              src="https://cdn.lordicon.com/zxlywduw.json"
              trigger="loop"
              delay= "1000"
              style="width:50vw;height:50vh">
              </div>

  <% elsif @activity.description == "Talk to a friend you trust" %>
   <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
     <lord-icon
        src="https://cdn.lordicon.com/kiynvdns.json"
        trigger="loop"
        delay="1000"
              style="width:50vw;height:50vh">
        </div>

  <% elsif @activity.description == "Take 10 calm belly breaths" %>
   <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
      <lord-icon
        src="https://cdn.lordicon.com/zdvajlff.json"
        trigger="loop"
        delay="2000"
        style="width:50vw;height:50vh">
        </div>

  <% elsif @activity.description == "Draw/Write sadness on a piece of paper" %>
   <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/vhyuhmbl.json"
            trigger="loop"

              style="width:50vw;height:50vh">
            </div>

  <% elsif @activity.description == "Listen to a music" %>
   <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/wxsbvjgg.json"
            trigger="loop"

              style="width:50vw;height:50vh">
            </div>

  <!-- Devastated -->

  <% elsif @activity.description == "Talk with teacher" %>
   <div class="activity">
      <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
            src="https://cdn.lordicon.com/kiynvdns.json"
            trigger="loop"
            delay="1000"
              style="width:50vw;height:50vh">
            </div>

  <% elsif @activity.description == "Chat with a friend" %>
   <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
            src="https://cdn.lordicon.com/kiynvdns.json"
            trigger="loop"
            delay="1000"
              style="width:50vw;height:50vh">
            </div>

  <% elsif @activity.description == "Hug a teddy bear/someone you like" %>
   <div class="activity">
      <script src="https://cdn.lordicon.com/lordicon.js"></script>
          <lord-icon
              src="https://cdn.lordicon.com/zxlywduw.json"
              trigger="loop"
              delay= "1000"
              style="width:50vw;height:50vh">
              </div>

  <% elsif @activity.description == "Draw anything on a piece of paper" %>
   <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/vhyuhmbl.json"
            trigger="loop"

              style="width:50vw;height:50vh">
            </div>

  <% elsif @activity.description == "Write down your feelings" %>
   <div class="activity">
     <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
          src="https://cdn.lordicon.com/vhyuhmbl.json"
          trigger="loop"
          delay="1000"
              style="width:50vw;height:50vh">
          </div>

  <% end %>
  </div>
</div>

<%# <div id="popup-overlay"></div> %>
<div class="footer">
  <div id="countdown">5</div>
</div>


<script>
    (function() {
        function countdown(elementName, seconds) {
            var element, endTime, timeLeft;

            function twoDigits(n) {
                return (n <= 9 ? "0" + n : n);
            }

            function updateTimer() {
                var msLeft = endTime - (+new Date);
                if (msLeft < 0) {
                    closePopup();
                } else {
                    timeLeft = new Date(msLeft);
                    var secs = Math.floor((msLeft / 1000) % 60);
                    element.innerHTML = twoDigits(secs);
                    setTimeout(updateTimer, 1000);
                }
            }

            element = document.getElementById(elementName);
            endTime = (+new Date) + 1000 * seconds;
            updateTimer();
        }

        function displayPopup() {
            var popup = document.getElementById('popup');
            if (popup) {
                popup.style.display = 'block';
            }
        }

        function closePopup(feelingBetter) {
            var popup = document.getElementById('popup');
            if (popup) {
                popup.classList.add("close-popup");
            }
            if (feelingBetter) {
                var newPopup = document.getElementById('newPopup');
                if (newPopup) {
                    newPopup.style.display = 'block';
                    newPopup.classList.add("closeNew-popup");
                }
            }
        }

        function closeNewPopup() {
            var newPopup = document.getElementById('newPopup');
            if (newPopup) {
                newPopup.style.display = 'none';

            }
        }
        var yesButton = document.getElementById('yes');
        if (yesButton) {
            yesButton.addEventListener('click', function() {
                closePopup(true);
            });
        }

        // Event listener for the No button
        var noButton = document.getElementById('no');
        if (noButton) {
            noButton.addEventListener('click', function() {
                closePopup(true);
            });
        }

        var closeButton = document.getElementById('close');
        if (closeButton) {
          closeButton.addEventListener('click', function() {
            window.location.href = "/students/moods";
          });
        }
        countdown("countdown", 5);
    })();
</script>
